<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta property="fb:pages" content="277479082422114" /><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta property="og:image" content="https://programerat.github.io//assets/images/"><link rel="stylesheet" href="https://programerat.github.io//assets/css/style.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/toc.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/brands.min.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/regular.min.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/solid.min.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/fontawesome.min.css"><link rel="stylesheet" href="https://programerat.github.io//assets/css/syntax.css"><link rel="stylesheet" href="http://colormind.io/bootstrap/assets/css/material-kit.css"><link rel="preconnect" href="https://cdnjs.cloudflare.com"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"><title> Si ta përdorim modelin dekorues (eng. Decorator Pattern). - Programerat</title><link rel="shortcut icon" href="https://programerat.github.io//assets/images/programeret.png"><link rel="alternate" type="application/atom+xml" title="Programerat" href="https://programerat.github.io//atom.xml"><link rel="alternate" type="application/json" title="Programerat" href="https://programerat.github.io//feed.json" /><link rel="sitemap" type="application/xml" title="sitemap" href="https://programerat.github.io//sitemap.xml" /><link rel="preconnect" href="https://fonts.gstatic.com"><link href="https://fonts.googleapis.com/css2?family=Play:wght@400;700&family=Source+Code+Pro:ital,wght@0,200;0,300;0,400;0,600;0,700;0,900;1,300;1,400;1,500;1,600;1,700;1,900&display=swap" rel="stylesheet"></head><body><main><section class="post"><div class="flex-row-between"> <a href="https://programerat.github.io//">« back</a> <button title="Change theme" id="theme-toggle" onclick="modeSwitcher()"><div></div></button></div><time datetime="2022-02-10T18:03:20+01:00"> 4 min </time><h1 class="title"> Si ta përdorim modelin dekorues (eng. Decorator Pattern).</h1><span class="meta"> <a href="https://programerat.github.io//tag/Design">Design</a>, <a href="https://programerat.github.io//tag/Patterns">Patterns</a>, <a href="https://programerat.github.io//tag/Decorator">Decorator</a></span> <br><p>Modelet e dizajnimit të kodit janë një mënyrë shumë e mirë për të përmirësuar menagjimin e kodit dhe për të zvogëluar numrin e gabimeve(eng. bugs). Njëra nga modelet më të përdorura është modeli Dekorues, i cili mundëson që të shtojmë logjikë në një objekt pa e ndryshuar implementimin origjinal të objektit.</p><p>Qëllimi i këtij artikulli është të shpjegojë se si përdoret ky model dhe si të aplikohet në dizajn. Gjithashtu do të marr disa shembuj se si aplikohet në kod që të kuptohet më lehtë në mënyrë që ti ta aplikosh në projektin tënd.</p><h3 id="definicioni"> Definicioni <a href="#definicioni">#</a></h3><p>Modeli dekorues është ashtu edhe si tingëllon, është një model ose klasë që e dekoron një objekt pa pasur nevojë të bëjmë ndryshime në klasën ekzistuese.</p><p>Ky model bën pjesë në kategorinë e modeleve të strukturimit të kodit.</p><h3 id="qëllimi"> Qëllimi <a href="#qëllimi">#</a></h3><p>Pse duhet të përdorim këtë model dhe çfarë problemi na mundësonë që të zgjedhim? Disa nga opsionet ku mund ta përdorim këtë model janë: Nëse klasa ekzistuese ka nevojë të përdoret edhe pse kemi nevojë për ndryshim të logjikës. Nëse dëshirojmë të shtojmë validim të inputit ose menaxhim të problemeve. Nëse kodi i vjetër e përdor logjikën që ekziston dhe kemi nevojë që ta ndryshojmë atë në varësi se si objekti sillet ose jep rezultat. Shtimi i logjikës së regjistrimit ose raportit (eng. Logging)</p><h3 id="uml-diagrami"> UML Diagrami <a href="#uml-diagrami">#</a></h3><p><img src="../../assets/diagrams/decorator_pattern.png" alt="UML diagrami i modelit strategji" /></p><p><img src="../../assets/diagrams/decorator_pattern_wikipedia.jpeg" alt="Diagrami i huazuar nga wikipedia" /></p><h3 id="shembulli"> Shembulli <a href="#shembulli">#</a></h3><p>Ta zëmë që jemi duke punuar me vetura, andaj kemi vetura elektrike dhe me benzinë. Më implementimin e më poshtëm e kemi implementuar pjesën për vetura elektrike por pas një kohe kërkohet që veturat elektrike të mund të mbushen edhe me super chargers.</p><p>Tash për ne kjo nënkupton që duhet të supportojmë veturat që vetëm janë prodhuar por duhet që të shtojmë funksionalitet se si veturat të reja do të mbushen.</p><h3 id="aplikimi-në-kod"> Aplikimi në kod <a href="#aplikimi-në-kod">#</a></h3><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="kd">interface</span> <span class="nc">ElectricCar</span> <span class="p">{</span>
  <span class="k">function</span> <span class="n">charge</span><span class="p">(</span><span class="kt">int</span> <span class="n">percentage</span><span class="p">):</span> <span class="kt">void</span><span class="p">;</span>
  <span class="k">function</span> <span class="n">start</span><span class="p">():</span> <span class="kt">bool</span><span class="p">;</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">TeslaModelOne</span> <span class="kd">implements</span> <span class="nc">ElectricCar</span> <span class="p">{</span>
  
  <span class="k">private</span> <span class="k">const</span> <span class="no">MIN_BATTERY_PERCENTAGE</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>
  <span class="k">private</span> <span class="kt">int</span> <span class="nv">$chargedPercentage</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="n">charge</span><span class="p">(</span><span class="kt">int</span> <span class="nv">$percentage</span><span class="p">):</span> <span class="kt">void</span> <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">chargedPercentage</span> <span class="o">+=</span> <span class="nv">$percentage</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="n">start</span><span class="p">():</span> <span class="kt">bool</span> 
  <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nf">batteryPercentage</span><span class="p">()</span> <span class="o">&gt;</span> <span class="k">self</span><span class="o">::</span><span class="no">MIN_BATTERY_PERCENTAGE</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Ta zëjmë që vetëm e kemi të implementuar një dizajn si ky më lartë.</span>
<span class="c1">// nëse kemi raste ku veturat elektrike do të jenë të paisura me mundësi mbushje të shpejtë</span>

<span class="kd">class</span> <span class="nc">TeslaModelOneDecorator</span> <span class="kd">implements</span> <span class="nc">ElectricCar</span> <span class="p">{</span>
  
  <span class="k">private</span> <span class="kt">ElectricCar</span> <span class="nv">$car</span><span class="p">;</span>

  <span class="k">public</span> <span class="k">function</span> <span class="n">__construct</span><span class="p">(</span><span class="kt">ElectricCar</span> <span class="nv">$car</span><span class="p">)</span> <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">car</span> <span class="o">=</span> <span class="nv">$car</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="n">superCharge</span><span class="p">(</span><span class="kt">int</span> <span class="nv">$percentage</span><span class="p">):</span> <span class="kt">void</span> <span class="p">{</span>
    <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">car</span><span class="o">-&gt;</span><span class="nf">charge</span><span class="p">(</span><span class="nv">$percentage</span> <span class="o">+</span> <span class="nv">$percentage</span><span class="p">);</span>
  <span class="p">}</span> 

  <span class="k">public</span> <span class="k">function</span> <span class="n">start</span><span class="p">():</span> <span class="kt">bool</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">car</span><span class="o">-&gt;</span><span class="nf">start</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// E shohim si e kemi shtuar metoden `superCharge` ku e shton funksionalitetin pa e ndryshuar klasën `TeslaModelOne`</span>

<span class="nv">$tesla</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">TeslaModelOneDecorator</span><span class="p">(</span><span class="k">new</span> <span class="nc">TeslaModelOne</span><span class="p">())</span>
<span class="nv">$tesla</span><span class="o">-&gt;</span><span class="nf">superCharge</span><span class="p">(</span><span class="mi">20</span><span class="p">);</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$tesla</span><span class="o">-&gt;</span><span class="nf">start</span><span class="p">())</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">"It is started!"</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>Një shembull tjetër mund të jetë nëse dëshirojmë të egzekutojmë një komandë ku është mekanizmi i ri-egzekutimit (eng. Retry Mechanism).</p><div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//Ta zëmë që e kemi një komand `CreateOrder`</span>
<span class="kd">class</span> <span class="nc">CreateOrder</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="p">{</span>
  <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">():</span> <span class="kt">void</span>
  <span class="p">{</span>
    <span class="c1">//egzekuto hapat për të kryer punën</span>
  <span class="p">}</span>
<span class="p">}</span>


<span class="c1">//Implementimi i dekoruesit do ta ket per detyr ta egzekutoj komanden nese kemi ndonje error </span>
<span class="kd">class</span> <span class="nc">CreateOrderWithRetryDecorator</span> <span class="kd">implements</span> <span class="nc">Command</span> <span class="p">{</span>
  
  <span class="k">public</span> <span class="k">function</span> <span class="n">__cosntruct</span><span class="p">(</span><span class="kt">Command</span> <span class="nv">$command</span><span class="p">)</span> <span class="p">{}</span>

  <span class="k">public</span> <span class="k">function</span> <span class="n">execute</span><span class="p">():</span> <span class="kt">void</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">command</span><span class="o">-&gt;</span><span class="nf">execute</span><span class="p">();</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nc">Exception</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
      <span class="nv">$this</span><span class="o">-&gt;</span><span class="n">command</span><span class="o">-&gt;</span><span class="nf">execute</span><span class="p">();</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><h3 id="përmbledhja"> Përmbledhja <a href="#përmbledhja">#</a></h3><p>Modeli dekorues të mundësonë ta shtojmë logjikën në objektet ekzistuese, pa pasur nevojë ta ndryshosh objektin ekzistues. Është zgjidhje e lehtë dhe elegante, nuk humb kohë për të menduar për zgjidhje të tjera sepse identifikohet shumë lehtë se ku aplikohet.</p><p>Pra herën tjetër kur të shtoshë logjikë në një klasë, mendo për modelin dekorues edhe shikoje se a mund ta aplikosh. Një nga këshillat për të pasur kod më të organizuar dhe më të qartësuar është që kodi të mbahet i vogël dhe i ndarë në klasa dhe metoda adekuate. Emërtimi të jetë i thjeshtë dhe me kuptim të plotë.</p><p>P.sh. Nëse një klasë jep si rezultat shumën e dy numrave, është më mirë ta quajmë shumëzuesi sesa Kalkulatori sepse kalkulatori përmbanë më shumë se një logjikë, andaj për ta kuptuar se çfarë kryen ajo klasë duhet ta hapim kodin dhe të shohim.</p><p><a href="https://www.amazon.de/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882/ref=sr_1_1?adgrpid=1195169790325301&amp;hvadid=74698212755372&amp;hvbmt=be&amp;hvdev=c&amp;hvlocphy=127338&amp;hvnetw=o&amp;hvqmt=e&amp;hvtargid=kwd-74698309079548%3Aloc-72&amp;hydadcr=3707_1873341&amp;keywords=clean+coding&amp;qid=1643633753&amp;sr=8-1">Ja një libër shum i mirë ku autori dhe disa nga krijuesit e gjuhëve programuese c# kanë shprehur mendim në këtë libër.</a></p></section><section class="toc"><ul><li><a href="#definicioni">Definicioni</a></li><li><a href="#qëllimi">Qëllimi</a></li><li><a href="#uml-diagrami">UML Diagrami</a></li><li><a href="#shembulli">Shembulli</a></li><li><a href="#aplikimi-në-kod">Aplikimi në kod</a></li><li><a href="#përmbledhja">Përmbledhja</a></li></ul><svg class="toc-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg"><path stroke="#444" stroke-width="3" fill="transparent" stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" stroke-linejoin="round" transform="translate(-0.5, -0.5)" /> </svg></section><section><nav class="post-nav"> <a class="post-nav-item post-nav-prev" href="/2022/01/si-te-perdorim-docker-compose"><div class="nav-arrow">Previous</div><span class="post-title">Si të përdorni Docker Compose?</span> </a> <a class="post-nav-item post-nav-next" href="/2022/04/si-ta-p%C3%ABrgaditeni-nj%C3%AB-aplikacon-me-docker-compose"><div class="nav-arrow">Next</div><span class="post-title">Mësoni ta paketoni një PHP website me Docker - Video</span> </a></nav></section>//Shpreh mendimin tend. <script src="https://utteranc.es/client.js" repo="programerat/programerat.github.io" issue-term="title" label="Komento" theme="github-dark" crossorigin="anonymous" async> </script> <script src="https://programerat.github.io//assets/js/toc.js"></script></main><script> function setTheme(theme) { if (theme === "dark") { document.documentElement.setAttribute('data-theme', 'dark'); window.localStorage.setItem('theme', 'dark'); document.getElementById("theme-toggle").classList.add('sun'); document.getElementById("theme-toggle").classList.remove('moon'); } else { document.documentElement.setAttribute('data-theme', 'light'); window.localStorage.setItem('theme', 'light'); document.getElementById("theme-toggle").classList.add('moon'); document.getElementById("theme-toggle").classList.remove('sun'); } } let theme = localStorage.getItem('theme'); theme = theme || (window.matchMedia ? window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light' : 'light'); setTheme(theme); function modeSwitcher() { let currentMode = document.documentElement.getAttribute('data-theme'); if (currentMode === "dark") { setTheme('light'); } else { setTheme('dark'); } } </script></body><footer class="social-footer"><div class="social-footer-icons"> <a href="https://github.com/programerat" title="Github profile, nothing much there, yet" target="_blank" rel="noopener noreferrer"><i class="fa fa-github social-button-custom " aria-hidden="true"></i></a> <a href="https://programerat.github.io//atom.xml" title="Feed RSS" target="_blank" rel="noopener noreferrer"><i class="fa fa-rss social-button-custom" aria-hidden="true"></i></a> <a href="https://github.com/programerat/programerat.github.io" title="Browse the code" target="_blank" rel="noopener noreferrer"><i class="fa fa-code social-button-custom " aria-hidden="true"></i></a> <a href="https://facebook.com/programerat" title="Facebook page" target="_blank"><i class="fa fa-facebook social-button-custom " aria-hidden="true"></i></a> <a href="https://www.youtube.com/channel/UCi5M70eXEbQkAV4fyfrbOuQ" title="youtube channel" target="_blank"><i class="fa fa-youtube social-button-custom " aria-hidden="true"></i></a> <a href="https://discord.gg/XbfP9quv" title="Discord Chat" target="_blank"><img src="/assets/images/discord.svg" width="20px" alt="discord chat" ></a></div></footer></html>
